<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>2015 Candidates | UK</title>
    
    <!-- Mobile views -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h1>2015 CANDIDATES | UK<span id='subtitle'><br>2015 UK GENERAL ELECTION CANDIDATES AND CONTACT INFORMATION</span></h1>

<!-- MPI API -->
        <section class="box">
            <h2>Find your MPI</h2>
                <form id="search-mpi">
                    <label for="search-postcode">Search By Postcode:
                        <input type="text" id="search-postcode" name="search">
                    </label>
                </form>
<!-- Section for the output -->
            <div id="results-">
            </div>  
        </section>  

    <div id="vis">
        
    </div>

    <div id="tooltip" class="hidden">
        <p><strong id="constituency"></strong></p>
        <p><span id="mp"></span></p>
        <p><span id="party"></span></p>
        <br>
        <p><strong>2015 Candidates:</strong></p>
        <p class="candidates_description">Name (Party) - Email and/or Twitter Handle</p>
        <p><span id="next_elec"></span></p>
    </div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.1.0/topojson.min.js"></script>
    <script src="maps.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>


    <script>

// To request and get data in Java Script Console:

    var search_mpi = function() {
        $.ajax({
            url: "http://mapit.mysociety.org/postcode/SW1A1AA",
                type : "GET",
                dataType : "json",
                success: function(response) {
                        console.log(response);
                },
                error: function(xhr, status, error){
                        console.log(status);
                        console.log(error);
                }
        });
    };

    $(document).ready(function(){
        $('#search-mpi').on("submit", function(e){ // To use "Enter" to search
            e.preventDefault();
            var input = $('#search-postcode').val();
            console.log(input);
            search_mpi(input);
            });
        });

    </script>
</body>
</html>